## 作用域



作用域是一套规则，用于确定在何处以及如何查找变量（标识符）。如果查找的目的是对变量进行赋值，那么就会使用 LHS 查询；如果目的是获取变量的值，就会使用 RHS 查询。



LHS 和 RHS 查询都会在当前执行作用域中开始，如果没有找到所需的标识符，就会向上级作用域继续查找目标标识符，直到最后抵达全局作用域，无论找到或没找到都将停止。



LHS 和 RHS 的区别？

因为在变量还没有声明（在任何作用域中都无法找到该变量）的情况下，这两种查询的行
为是不一样的。

不成功的 RHS 引用（找到变量但获取不到值）会导致抛出 ReferenceError 异常。不成功的 LHS 引用（找不到变量去赋值）会导致自动隐式地创建一个全局变量，该变量使用 LHS 引用的目标作为标识符（非严格模式下）；或者抛出 ReferenceError 异常（严格模式下）。



如果 RHS 查询找到了一个变量，但是你尝试对这个变量的值进行不合理的操作，比如试图对一个非函数类型的值进行函数调用，或者引用 null 或 undefined 类型的值中的属性，那么引擎会抛出另外一种类型的异常，叫作 TypeError，代表代表作用域判别成功了，但是对结果的操作是非法或不合理的。



